<h1>Push Notification</h1>

<pre style="font-family: monospace">
[denied] &lt;-- [prompt] --&gt; [subscribed] &lt;--&gt; [granted]
</pre>

<p>PWA supported: {{isPwaSupported}}<br/> push notification status: <b>{{status}}</b>.</p>

<div *ngIf="showStatusDenied">
  <p>Click on the info icon on the URL bar to re-enable again.</p>
</div>

<div *ngIf="showStatusPrompt">
  <p>Click <a href="#" (click)="subscribe($event)">here</a> to request permissions to subscribe.</p>
</div>

<div *ngIf="showStatusGranted">
  <p>Click <a href="#" (click)="subscribe($event)">here</a> to subscribe (permission already granted).</p>
</div>

<div *ngIf="showStatusSubscribed">
  <p>Click <a href="#" (click)="unsubscribe($event)">here</a> to unsubscribe.</p>
  <p>Send notification using curl: </p>
  <small style="font-family: monospace">
    <pre *ngIf="isFirefoxEndpoint">curl -X POST {{endpointUrl}}</pre>
    <pre *ngIf="isChromeEndpoint">curl -X POST \
  --header "TTL: 600" \
  --header "Authorization: key=[YOUR FIREBASE API KEY]"
  {{endpointUrl}}</pre>
  </small>

  <p>Client keys:</p>
  <small style="font-family: monospace">
  <pre>
{{clientKeys}}
  </pre>
  </small>
</div>
